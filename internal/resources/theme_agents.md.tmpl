# Discourse Theme Workspace — {{.ThemeName}}

This folder contains a {{if .IsComponent}}theme component{{else}}full theme{{end}} for Discourse inside the development container that AI agents can edit directly.

## Key Locations
- Theme root: `{{.ThemePath}}`
- Discourse core: `{{.ContainerDiscoursePath}}`
- Host mirror after sync: `{{.HostDiscoursePath}}`
{{- if .RepositoryURL }}
- Source repository: {{.RepositoryURL}}
{{- end }}

## Watcher & Preview
- The runit service `{{.ServiceName}}` keeps `discourse_theme watch` running so edits upload automatically.
- Control it with `sv status {{.ServiceName}}`, `sv restart {{.ServiceName}}`, or `sv stop {{.ServiceName}}` from inside the container.
- Logs stream to the service output; check them via `sv restart {{.ServiceName}}` or `docker logs` if needed.
- Once the watcher completes its first upload, visit `http://127.0.0.1:9292/?preview_theme_id=<THEME_ID>` (use the ID printed by the watcher) to see changes.

## Workflow Reminders
1. Edit files under the theme root; SCSS/JS/HTML assets live in `common/`, `desktop/`, and `mobile/`.
2. Keep the watcher running so changes sync to Discourse automatically; restart it after large refactors or dependency updates.
3. Run Ruby or Ember specs from `{{.ContainerDiscoursePath}}` when changes affect Discourse core behavior.
4. Commit work inside the container or extract it to the host mirror before pushing upstream.
- Create `settings.yml` in the theme root whenever you need custom settings; it isn’t pre-generated.

Stay focused on Discourse theme development—no knowledge of host tooling is required beyond the paths listed above.
